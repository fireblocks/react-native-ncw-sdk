{"version":3,"names":["NativeEventEmitter","NativeModules","NcwSdk","registerEvents","messagesHandler","secureStorageProvider","eventsHandler","opts","eventEmitter","subscriptions","push","addListener","event","opId","deviceId","map","console","log","response","Object","fromEntries","keys","k","release","getAccess","key","value","entries","set","e","error","handleResponse","data","get","allKeys","Set","getAllKeys","has","clear","message","debug","handleOutgoingMessage","JSON","stringify","Error","String","handleEvent","forEach","sub","remove","FireblocksNCWFactory","options","dispose","initialize","bridge","clearAllStorage","generateMPCKeys","algorithms","Array","from","stopMpcDeviceSetup","signTransaction","txId","status","transactionSignatureStatus","stopInProgressSignTransaction","getInProgressSigningTxId","backupKeys","passphrase","passphraseId","recoverKeys","passphraseResolver","subscription","requestJoinExistingWallet","joinWalletResolver","requestId","onRequestId","_joinWalletResolver$o","onProvisionerFound","call","approveJoinWalletRequest","stopJoinWallet","takeover","exportFullKeys","chaincode","cloudKeyShares","deriveAssetKey","extendedPrivateKey","coinType","account","change","index","getKeysStatus","getPhysicalDeviceId"],"sourceRoot":"../../src","sources":["FireblocksNCWFactory.ts"],"mappings":"AAAA,SAAmCA,kBAAkB,EAAEC,aAAa,QAAQ,cAAc;AAC1F,SAASC,MAAM,QAAgQ,sBAAsB;AAerS,SAASC,cAAcA,CAAC;EAAEC,eAAe;EAAEC,qBAAqB;EAAEC,aAAa;EAAE,GAAGC;AAA4B,CAAC,EAAE;EAC/G,MAAMC,YAAY,GAAG,IAAIR,kBAAkB,CAACC,aAAa,CAACC,MAAM,CAAC;EACjE,MAAMO,aAAyC,GAAG,EAAE;EAEpDA,aAAa,CAACC,IAAI,CAACF,YAAY,CAACG,WAAW,CAAC,OAAO,EAAE,MAAOC,KAAe,IAAK;IAC5E,MAAM;MAAEC,IAAI;MAAEC,QAAQ;MAAEC;IAAI,CAAC,GAAGH,KAAK;IACrC,IAAIE,QAAQ,KAAKP,IAAI,CAACO,QAAQ,EAAE;MAC5B;IACJ;IAEAE,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEL,KAAK,CAAC;IAEnC,MAAMM,QAAQ,GAAGC,MAAM,CAACC,WAAW,CAACD,MAAM,CAACE,IAAI,CAACN,GAAG,CAAC,CAACA,GAAG,CAACO,CAAC,IAAI,CAACA,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC;IAC1E,IAAI;MACA,MAAMC,OAAO,GAAG,MAAMlB,qBAAqB,CAACmB,SAAS,CAAC,CAAC;MACvD,IAAI;QACA,KAAK,MAAM,CAACC,GAAG,EAAEC,KAAK,CAAC,IAAIP,MAAM,CAACQ,OAAO,CAACZ,GAAG,CAAC,EAAE;UAC5C,MAAMV,qBAAqB,CAACuB,GAAG,CAACH,GAAG,EAAEC,KAAK,CAAC;UAC3CR,QAAQ,CAACO,GAAG,CAAC,GAAG,IAAI;QACxB;MACJ,CAAC,SAAS;QACN,MAAMF,OAAO,CAAC,CAAC;MACnB;IACJ,CAAC,CAAC,OAAOM,CAAC,EAAE;MACRb,OAAO,CAACc,KAAK,CAAC,aAAa,EAAED,CAAC,CAAC;IACnC;IAEA,MAAM3B,MAAM,CAAC6B,cAAc,CAAC;MAAElB,IAAI;MAAEC,QAAQ;MAAEkB,IAAI,EAAEd;IAAS,CAAC,CAAC;EACnE,CAAC,CAAC,CAAC;EAEHT,aAAa,CAACC,IAAI,CAACF,YAAY,CAACG,WAAW,CAAC,MAAM,EAAE,MAAOC,KAAgB,IAAK;IAC5E,MAAM;MAAEC,IAAI;MAAEC,QAAQ;MAAEO;IAAK,CAAC,GAAGT,KAAK;IACtC,IAAIE,QAAQ,KAAKP,IAAI,CAACO,QAAQ,EAAE;MAC5B;IACJ;IAEAE,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEL,KAAK,CAAC;IAElC,MAAMM,QAAQ,GAAGC,MAAM,CAACC,WAAW,CAAcC,IAAI,CAACN,GAAG,CAAEO,CAAS,IAAK,CAACA,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;IACpF,IAAI;MACA,MAAMC,OAAO,GAAG,MAAMlB,qBAAqB,CAACmB,SAAS,CAAC,CAAC;MACvD,IAAI;QACA,KAAK,MAAMC,GAAG,IAAIJ,IAAI,EAAE;UACpB,MAAMK,KAAK,GAAG,MAAMrB,qBAAqB,CAAC4B,GAAG,CAACR,GAAG,CAAC;UAClDP,QAAQ,CAACO,GAAG,CAAC,GAAGC,KAAK;QACzB;MACJ,CAAC,SAAS;QACN,MAAMH,OAAO,CAAC,CAAC;MACnB;IACJ,CAAC,CAAC,OAAOM,CAAC,EAAE;MACRb,OAAO,CAACc,KAAK,CAAC,aAAa,EAAED,CAAC,CAAC;IACnC;IACA,MAAM3B,MAAM,CAAC6B,cAAc,CAAC;MAAElB,IAAI;MAAEC,QAAQ;MAAEkB,IAAI,EAAEd;IAAS,CAAC,CAAC;EACnE,CAAC,CAAC,CAAC;EAEHT,aAAa,CAACC,IAAI,CAACF,YAAY,CAACG,WAAW,CAAC,UAAU,EAAE,MAAOC,KAAgB,IAAK;IAChF,MAAM;MAAEC,IAAI;MAAEC,QAAQ;MAAEO;IAAK,CAAC,GAAGT,KAAK;IACtC,IAAIE,QAAQ,KAAKP,IAAI,CAACO,QAAQ,EAAE;MAC5B;IACJ;IAEAE,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEL,KAAK,CAAC;IACtC,IAAI;MACA,MAAMW,OAAO,GAAG,MAAMlB,qBAAqB,CAACmB,SAAS,CAAC,CAAC;MACvD,IAAI;QACA;QACA,MAAMU,OAAO,GAAG,IAAIC,GAAG,CAAE,OAAM9B,qBAAqB,CAAC+B,UAAU,CAAC,CAAC,KAAI,EAAG,CAAC;QACzE,MAAMlC,MAAM,CAAC6B,cAAc,CAAC;UAAElB,IAAI;UAAEC,QAAQ;UAAEkB,IAAI,EAAEb,MAAM,CAACC,WAAW,CAACC,IAAI,CAACN,GAAG,CAACO,CAAC,IAAI,CAACA,CAAC,EAAEY,OAAO,CAACG,GAAG,CAACf,CAAC,CAAC,CAAC,CAAC;QAAE,CAAC,CAAC;MACjH,CAAC,SAAS;QACN,MAAMC,OAAO,CAAC,CAAC;MACnB;IACJ,CAAC,CAAC,OAAOM,CAAC,EAAE;MACRb,OAAO,CAACc,KAAK,CAAC,gBAAgB,EAAED,CAAC,CAAC;MAClC;MACA,MAAM3B,MAAM,CAAC6B,cAAc,CAAC;QAAElB,IAAI;QAAEC,QAAQ;QAAEkB,IAAI,EAAE,CAAC;MAAE,CAAC,CAAC;IAC7D;EACJ,CAAC,CAAC,CAAC;EAEHvB,aAAa,CAACC,IAAI,CAACF,YAAY,CAACG,WAAW,CAAC,QAAQ,EAAE,MAAOC,KAAgB,IAAK;IAC9E,MAAM;MAAEC,IAAI;MAAEC,QAAQ;MAAEO;IAAK,CAAC,GAAGT,KAAK;IACtC,IAAIE,QAAQ,KAAKP,IAAI,CAACO,QAAQ,EAAE;MAC5B;IACJ;IAEAE,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEL,KAAK,CAAC;IACpC,MAAMM,QAAQ,GAAGC,MAAM,CAACC,WAAW,CAACC,IAAI,CAACN,GAAG,CAAEO,CAAS,IAAK,CAACA,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC;IACxE,IAAI;MACA,MAAMC,OAAO,GAAG,MAAMlB,qBAAqB,CAACmB,SAAS,CAAC,CAAC;MACvD,IAAI;QACA,KAAK,MAAMC,GAAG,IAAIJ,IAAI,EAAE;UACpB,MAAMhB,qBAAqB,CAACiC,KAAK,CAACb,GAAG,CAAC;UACtCP,QAAQ,CAACO,GAAG,CAAC,GAAG,IAAI;QACxB;MACJ,CAAC,SAAS;QACN,MAAMF,OAAO,CAAC,CAAC;MACnB;IACJ,CAAC,CAAC,OAAOM,CAAC,EAAE;MACRb,OAAO,CAACc,KAAK,CAAC,cAAc,EAAED,CAAC,CAAC;IACpC;IACA,MAAM3B,MAAM,CAAC6B,cAAc,CAAC;MAAElB,IAAI;MAAEC,QAAQ;MAAEkB,IAAI,EAAEd;IAAS,CAAC,CAAC;EACnE,CAAC,CAAC,CAAC;EAEHT,aAAa,CAACC,IAAI,CAACF,YAAY,CAACG,WAAW,CAAC,iBAAiB,EAAE,MAAOC,KAAK,IAAK;IAC5E,MAAM;MAAE2B,OAAO;MAAE1B,IAAI;MAAEC;IAAS,CAAC,GAAGF,KAAK;IACzCI,OAAO,CAACwB,KAAK,CAAC,yBAAyB,EAAE;MAAE3B,IAAI;MAAEC;IAAS,CAAC,CAAC;IAE5D,IAAIA,QAAQ,KAAKP,IAAI,CAACO,QAAQ,EAAE;MAC5B;IACJ;;IAEA;IACA,IAAI;MACA,MAAMI,QAAQ,GAAG,MAAMd,eAAe,CAACqC,qBAAqB,CAACF,OAAO,CAAC;MACrE;;MAEA,MAAMrC,MAAM,CAAC6B,cAAc,CAAC;QAAElB,IAAI;QAAEC,QAAQ;QAAEkB,IAAI,EAAEU,IAAI,CAACC,SAAS,CAACzB,QAAQ;MAAE,CAAC,CAAC;IACnF,CAAC,CAAC,OAAOW,CAAC,EAAE;MACRb,OAAO,CAACc,KAAK,CAAC,uBAAuB,EAAED,CAAC,CAAC;MAEzC,IAAIA,CAAC,YAAYe,KAAK,EAAE;QACpB,MAAM1C,MAAM,CAAC6B,cAAc,CAAC;UAAElB,IAAI;UAAEC,QAAQ;UAAEkB,IAAI,EAAE;YAAEF,KAAK,EAAED,CAAC,CAACU;UAAQ;QAAE,CAAC,CAAC;MAC/E,CAAC,MAAM,IAAIV,CAAC,YAAYgB,MAAM,IAAI,OAAOhB,CAAC,KAAK,QAAQ,EAAE;QACrD,MAAM3B,MAAM,CAAC6B,cAAc,CAAC;UAAElB,IAAI;UAAEC,QAAQ;UAAEkB,IAAI,EAAE;YAAEF,KAAK,EAAED;UAAE;QAAE,CAAC,CAAC;MACvE,CAAC,MAAM;QACH,MAAM3B,MAAM,CAAC6B,cAAc,CAAC;UAAElB,IAAI;UAAEC,QAAQ;UAAEkB,IAAI,EAAE;YAAEF,KAAK,EAAE;UAAe;QAAE,CAAC,CAAC;MACpF;IACJ;EACJ,CAAC,CAAC,CAAC;EAEHrB,aAAa,CAACC,IAAI,CAACF,YAAY,CAACG,WAAW,CAAC,WAAW,EAAGC,KAAa,IAAK;IACxEI,OAAO,CAACwB,KAAK,CAAC,mBAAmB,EAAE5B,KAAK,CAAC;IACzCN,aAAa,aAAbA,aAAa,eAAbA,aAAa,CAAEwC,WAAW,CAAClC,KAAK,CAAC;EACrC,CAAC,CAAC,CAAC;EAEH,OAAO,YAAY;IACfH,aAAa,CAACsC,OAAO,CAACC,GAAG,IAAIA,GAAG,CAACC,MAAM,CAAC,CAAC,CAAC;EAC9C,CAAC;AACL;AAEA,OAAO,eAAeC,oBAAoBA,CAACC,OAA8B,EAA2B;EAChG,MAAM;IAAErC;EAAS,CAAC,GAAGqC,OAAO;EAE5B,MAAMC,OAAO,GAAGjD,cAAc,CAACgD,OAAO,CAAC;EACvC,IAAI;IACA,MAAMjD,MAAM,CAACmD,UAAU,CAACvC,QAAQ,CAAC;EACrC,CAAC,CAAC,OAAOe,CAAC,EAAE;IACRuB,OAAO,CAAC,CAAC;IACT,MAAMvB,CAAC;EACX;EAEA,MAAMyB,MAAsB,GAAG;IAC3BF,OAAO;IAEP;IACAG,eAAe,EAAE,SAAAA,CAAA,EAA2B;MACxC,MAAM,IAAIX,KAAK,CAAC,2BAA2B,CAAC;IAChD,CAAC;IAEDY,eAAe,EAAE,eAAAA,CAAgBC,UAA8B,EAAgC;MAC3F,OAAO,IAAItB,GAAG,CAAC,MAAMjC,MAAM,CAACsD,eAAe,CAAC1C,QAAQ,EAAE4C,KAAK,CAACC,IAAI,CAACF,UAAU,CAAC,CAAC,CAAC;IAClF,CAAC;IAEDG,kBAAkB,EAAE,SAAAA,CAAA,EAA8B;MAC9C,MAAM,IAAIhB,KAAK,CAAC,2BAA2B,CAAC;IAChD,CAAC;IAEDiB,eAAe,EAAE,eAAAA,CAAgBC,IAAY,EAAkC;MAC3E,MAAMC,MAAM,GAAG,MAAM7D,MAAM,CAAC2D,eAAe,CAAC/C,QAAQ,EAAEgD,IAAI,CAAC;MAE3D,OAAO;QACHA,IAAI;QACJE,0BAA0B,EAAED;MAChC,CAAC;IACL,CAAC;IAEDE,6BAA6B,EAAE,SAAAA,CAAA,EAA2B;MACtD,MAAM,IAAIrB,KAAK,CAAC,2BAA2B,CAAC;IAChD,CAAC;IAEDsB,wBAAwB,EAAE,SAAAA,CAAA,EAAoC;MAC1D,MAAM,IAAItB,KAAK,CAAC,2BAA2B,CAAC;IAChD,CAAC;IAEDuB,UAAU,EAAE,eAAAA,CAAgBC,UAAkB,EAAEC,YAAoB,EAA+B;MAC/F,OAAO,MAAMnE,MAAM,CAACiE,UAAU,CAACrD,QAAQ,EAAEsD,UAAU,EAAEC,YAAY,CAAC;IACtE,CAAC;IAEDC,WAAW,EAAE,eAAAA,CAAgBC,kBAAuC,EAAiB;MACjF,MAAM/D,YAAY,GAAG,IAAIR,kBAAkB,CAACC,aAAa,CAACC,MAAM,CAAC;MACjE,MAAMsE,YAAY,GAAGhE,YAAY,CAACG,WAAW,CAAC,mBAAmB,EAAE,MAAOC,KAAK,IAAK;QAChFI,OAAO,CAACwB,KAAK,CAAC,2BAA2B,EAAE5B,KAAK,CAAC;QAEjD,MAAM;UAAEyD,YAAY;UAAExD,IAAI;UAAEC;QAAS,CAAC,GAAGF,KAAK;QAC9C,IAAIE,QAAQ,KAAKqC,OAAO,CAACrC,QAAQ,EAAE;UAC/B;QACJ;QAEA,IAAI;UACA,MAAMI,QAAQ,GAAG,MAAMqD,kBAAkB,CAACF,YAAY,CAAC;UACvDrD,OAAO,CAACwB,KAAK,CAAE,sBAAqBE,IAAI,CAACC,SAAS,CAACzB,QAAQ,CAAE,EAAC,CAAC;UAE/D,MAAMhB,MAAM,CAAC6B,cAAc,CAAC;YAAElB,IAAI;YAAEC,QAAQ;YAAEkB,IAAI,EAAEd;UAAS,CAAC,CAAC;QACnE,CAAC,CAAC,OAAOW,CAAC,EAAE;UACRb,OAAO,CAACc,KAAK,CAAC,yBAAyB,EAAED,CAAC,CAAC;UAC3C,MAAM3B,MAAM,CAAC6B,cAAc,CAAC;YAAElB,IAAI;YAAEC,QAAQ;YAAEkB,IAAI,EAAE,CAAC;UAAE,CAAC,CAAC;QAC7D,CAAC,SAAS;UACNwC,YAAY,CAACvB,MAAM,CAAC,CAAC;QACzB;MACJ,CAAC,CAAC;MAEF,MAAM/C,MAAM,CAACoE,WAAW,CAACxD,QAAQ,CAAC;IACtC,CAAC;IAED2D,yBAAyB,EAAE,eAAAA,CAAgBC,kBAAsC,EAAgC;MAC7G,MAAMlE,YAAY,GAAG,IAAIR,kBAAkB,CAACC,aAAa,CAACC,MAAM,CAAC;MACjE,MAAMO,aAAa,GAAG,EAAE;MAExBA,aAAa,CAACC,IAAI,CAACF,YAAY,CAACG,WAAW,CAAC,mBAAmB,EAAE,MAAOC,KAAK,IAAK;QAC9EI,OAAO,CAACwB,KAAK,CAAC,2BAA2B,EAAE5B,KAAK,CAAC;QAEjD,MAAM;UAAE+D,SAAS;UAAE7D;QAAS,CAAC,GAAGF,KAAK;QACrC,IAAIE,QAAQ,KAAKqC,OAAO,CAACrC,QAAQ,EAAE;UAC/B;QACJ;QAEA,IAAI;UACA4D,kBAAkB,CAACE,WAAW,CAACD,SAAS,CAAC;QAC7C,CAAC,CAAC,OAAO9C,CAAC,EAAE;UACRb,OAAO,CAACc,KAAK,CAAC,yBAAyB,EAAED,CAAC,CAAC;QAC/C;MACJ,CAAC,CAAC,CAAC;MAEHpB,aAAa,CAACC,IAAI,CAACF,YAAY,CAACG,WAAW,CAAC,kBAAkB,EAAE,MAAOC,KAAK,IAAK;QAC7EI,OAAO,CAACwB,KAAK,CAAC,0BAA0B,EAAE5B,KAAK,CAAC;QAEhD,MAAM;UAAEE;QAAS,CAAC,GAAGF,KAAK;QAC1B,IAAIE,QAAQ,KAAKqC,OAAO,CAACrC,QAAQ,EAAE;UAC/B;QACJ;QAEA,IAAI;UAAA,IAAA+D,qBAAA;UACA,CAAAA,qBAAA,GAAAH,kBAAkB,CAACI,kBAAkB,cAAAD,qBAAA,eAArCA,qBAAA,CAAAE,IAAA,CAAAL,kBAAwC,CAAC;QAC7C,CAAC,CAAC,OAAO7C,CAAC,EAAE;UACRb,OAAO,CAACc,KAAK,CAAC,wBAAwB,EAAED,CAAC,CAAC;QAC9C;MACJ,CAAC,CAAC,CAAC;MAEH,IAAI;QACAb,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAC;QAChD,OAAO,IAAIkB,GAAG,CAAC,MAAMjC,MAAM,CAACuE,yBAAyB,CAAC3D,QAAQ,CAAC,CAAC;MACpE,CAAC,CACD,OAAOe,CAAC,EAAE;QACNb,OAAO,CAACc,KAAK,CAAC,iCAAiC,EAAED,CAAC,CAAC;QACnD,MAAMA,CAAC;MACX,CAAC,SAAQ;QACLpB,aAAa,CAACsC,OAAO,CAACC,GAAG,IAAIA,GAAG,CAACC,MAAM,CAAC,CAAC,CAAC;MAC9C;IACJ,CAAC;IACD+B,wBAAwB,EAAE,eAAAA,CAAgBL,SAAiB,EAAuC;MAC9F,OAAO,IAAIxC,GAAG,CAAC,MAAMjC,MAAM,CAAC8E,wBAAwB,CAAClE,QAAQ,EAAE6D,SAAS,CAAC,CAAC;IAC9E,CAAC;IACDM,cAAc,EAAE,SAAAA,CAAA,EAAkB;MAC9B,OAAO/E,MAAM,CAAC+E,cAAc,CAACnE,QAAQ,CAAC;IAC1C,CAAC;IACDoE,QAAQ,EAAE,eAAAA,CAAA,EAAuC;MAC7C,MAAM7D,IAAI,GAAG,MAAMnB,MAAM,CAACgF,QAAQ,CAACpE,QAAQ,CAAC;MAC5C,OAAOO,IAAI;IACf,CAAC;IACD8D,cAAc,EAAE,SAAAA,CAAUC,SAAiB,EAAEC,cAAqC,EAAuB;MACrGrE,OAAO,CAACc,KAAK,CAACY,IAAI,CAACC,SAAS,CAAC;QAACyC,SAAS;QAAEC;MAAc,CAAC,CAAC,CAAC;MAC1D,MAAM,IAAIzC,KAAK,CAAC,2BAA2B,CAAC;IAChD,CAAC;IACD0C,cAAc,EAAE,SAAAA,CAAUC,kBAA0B,EAAEC,QAAgB,EAAEC,OAAe,EAAEC,MAAc,EAAEC,KAAa,EAAU;MAC5H,MAAMlE,GAAG,GAAGvB,MAAM,CAACoF,cAAc,CAACxE,QAAQ,EAAEyE,kBAAkB,EAAE;QAAEC,QAAQ;QAAEC,OAAO;QAAEC,MAAM;QAAEC;MAAM,CAAC,CAAC;MACrG,OAAOlE,GAAG;IACd,CAAC;IACDmE,aAAa,EAAE,eAAAA,CAAA,EAAkE;MAC7E,MAAM7B,MAAM,GAAG,MAAM7D,MAAM,CAAC0F,aAAa,CAAC9E,QAAQ,CAAC;MACnD,OAAOiD,MAAM;IACjB,CAAC;IACD8B,mBAAmB,EAAE,SAAAA,CAAA,EAAoB;MACrC,OAAO3F,MAAM,CAAC2F,mBAAmB,CAAC,CAAC;IACvC;EACJ,CAAC;EAED,OAAOvC,MAAM;AACjB","ignoreList":[]}