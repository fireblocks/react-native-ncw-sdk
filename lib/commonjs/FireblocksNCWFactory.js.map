{"version":3,"names":["_reactNative","require","_reactNativeNcwSdk","registerEvents","messagesHandler","secureStorageProvider","eventsHandler","opts","eventEmitter","NativeEventEmitter","NativeModules","NcwSdk","subscriptions","push","addListener","event","opId","deviceId","map","console","log","response","Object","fromEntries","keys","k","release","getAccess","key","value","entries","set","e","error","handleResponse","data","get","allKeys","Set","getAllKeys","has","clear","message","debug","handleOutgoingMessage","JSON","stringify","Error","String","handleEvent","forEach","sub","remove","FireblocksNCWFactory","options","dispose","initialize","bridge","clearAllStorage","generateMPCKeys","algorithms","Array","from","stopMpcDeviceSetup","signTransaction","txId","status","transactionSignatureStatus","stopInProgressSignTransaction","getInProgressSigningTxId","backupKeys","passphrase","passphraseId","recoverKeys","passphraseResolver","subscription","requestJoinExistingWallet","joinWalletResolver","requestId","onRequestId","_joinWalletResolver$o","onProvisionerFound","call","approveJoinWalletRequest","stopJoinWallet","takeover","exportFullKeys","chaincode","cloudKeyShares","deriveAssetKey","extendedPrivateKey","coinType","account","change","index","getKeysStatus","getPhysicalDeviceId"],"sourceRoot":"../../src","sources":["FireblocksNCWFactory.ts"],"mappings":";;;;;;AAAA,IAAAA,YAAA,GAAAC,OAAA;AACA,IAAAC,kBAAA,GAAAD,OAAA;AAeA,SAASE,cAAcA,CAAC;EAAEC,eAAe;EAAEC,qBAAqB;EAAEC,aAAa;EAAE,GAAGC;AAA4B,CAAC,EAAE;EAC/G,MAAMC,YAAY,GAAG,IAAIC,+BAAkB,CAACC,0BAAa,CAACC,MAAM,CAAC;EACjE,MAAMC,aAAyC,GAAG,EAAE;EAEpDA,aAAa,CAACC,IAAI,CAACL,YAAY,CAACM,WAAW,CAAC,OAAO,EAAE,MAAOC,KAAe,IAAK;IAC5E,MAAM;MAAEC,IAAI;MAAEC,QAAQ;MAAEC;IAAI,CAAC,GAAGH,KAAK;IACrC,IAAIE,QAAQ,KAAKV,IAAI,CAACU,QAAQ,EAAE;MAC5B;IACJ;IAEAE,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEL,KAAK,CAAC;IAEnC,MAAMM,QAAQ,GAAGC,MAAM,CAACC,WAAW,CAACD,MAAM,CAACE,IAAI,CAACN,GAAG,CAAC,CAACA,GAAG,CAACO,CAAC,IAAI,CAACA,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC;IAC1E,IAAI;MACA,MAAMC,OAAO,GAAG,MAAMrB,qBAAqB,CAACsB,SAAS,CAAC,CAAC;MACvD,IAAI;QACA,KAAK,MAAM,CAACC,GAAG,EAAEC,KAAK,CAAC,IAAIP,MAAM,CAACQ,OAAO,CAACZ,GAAG,CAAC,EAAE;UAC5C,MAAMb,qBAAqB,CAAC0B,GAAG,CAACH,GAAG,EAAEC,KAAK,CAAC;UAC3CR,QAAQ,CAACO,GAAG,CAAC,GAAG,IAAI;QACxB;MACJ,CAAC,SAAS;QACN,MAAMF,OAAO,CAAC,CAAC;MACnB;IACJ,CAAC,CAAC,OAAOM,CAAC,EAAE;MACRb,OAAO,CAACc,KAAK,CAAC,aAAa,EAAED,CAAC,CAAC;IACnC;IAEA,MAAMrB,yBAAM,CAACuB,cAAc,CAAC;MAAElB,IAAI;MAAEC,QAAQ;MAAEkB,IAAI,EAAEd;IAAS,CAAC,CAAC;EACnE,CAAC,CAAC,CAAC;EAEHT,aAAa,CAACC,IAAI,CAACL,YAAY,CAACM,WAAW,CAAC,MAAM,EAAE,MAAOC,KAAgB,IAAK;IAC5E,MAAM;MAAEC,IAAI;MAAEC,QAAQ;MAAEO;IAAK,CAAC,GAAGT,KAAK;IACtC,IAAIE,QAAQ,KAAKV,IAAI,CAACU,QAAQ,EAAE;MAC5B;IACJ;IAEAE,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEL,KAAK,CAAC;IAElC,MAAMM,QAAQ,GAAGC,MAAM,CAACC,WAAW,CAAcC,IAAI,CAACN,GAAG,CAAEO,CAAS,IAAK,CAACA,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;IACpF,IAAI;MACA,MAAMC,OAAO,GAAG,MAAMrB,qBAAqB,CAACsB,SAAS,CAAC,CAAC;MACvD,IAAI;QACA,KAAK,MAAMC,GAAG,IAAIJ,IAAI,EAAE;UACpB,MAAMK,KAAK,GAAG,MAAMxB,qBAAqB,CAAC+B,GAAG,CAACR,GAAG,CAAC;UAClDP,QAAQ,CAACO,GAAG,CAAC,GAAGC,KAAK;QACzB;MACJ,CAAC,SAAS;QACN,MAAMH,OAAO,CAAC,CAAC;MACnB;IACJ,CAAC,CAAC,OAAOM,CAAC,EAAE;MACRb,OAAO,CAACc,KAAK,CAAC,aAAa,EAAED,CAAC,CAAC;IACnC;IACA,MAAMrB,yBAAM,CAACuB,cAAc,CAAC;MAAElB,IAAI;MAAEC,QAAQ;MAAEkB,IAAI,EAAEd;IAAS,CAAC,CAAC;EACnE,CAAC,CAAC,CAAC;EAEHT,aAAa,CAACC,IAAI,CAACL,YAAY,CAACM,WAAW,CAAC,UAAU,EAAE,MAAOC,KAAgB,IAAK;IAChF,MAAM;MAAEC,IAAI;MAAEC,QAAQ;MAAEO;IAAK,CAAC,GAAGT,KAAK;IACtC,IAAIE,QAAQ,KAAKV,IAAI,CAACU,QAAQ,EAAE;MAC5B;IACJ;IAEAE,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEL,KAAK,CAAC;IACtC,IAAI;MACA,MAAMW,OAAO,GAAG,MAAMrB,qBAAqB,CAACsB,SAAS,CAAC,CAAC;MACvD,IAAI;QACA;QACA,MAAMU,OAAO,GAAG,IAAIC,GAAG,CAAE,OAAMjC,qBAAqB,CAACkC,UAAU,CAAC,CAAC,KAAI,EAAG,CAAC;QACzE,MAAM5B,yBAAM,CAACuB,cAAc,CAAC;UAAElB,IAAI;UAAEC,QAAQ;UAAEkB,IAAI,EAAEb,MAAM,CAACC,WAAW,CAACC,IAAI,CAACN,GAAG,CAACO,CAAC,IAAI,CAACA,CAAC,EAAEY,OAAO,CAACG,GAAG,CAACf,CAAC,CAAC,CAAC,CAAC;QAAE,CAAC,CAAC;MACjH,CAAC,SAAS;QACN,MAAMC,OAAO,CAAC,CAAC;MACnB;IACJ,CAAC,CAAC,OAAOM,CAAC,EAAE;MACRb,OAAO,CAACc,KAAK,CAAC,gBAAgB,EAAED,CAAC,CAAC;MAClC;MACA,MAAMrB,yBAAM,CAACuB,cAAc,CAAC;QAAElB,IAAI;QAAEC,QAAQ;QAAEkB,IAAI,EAAE,CAAC;MAAE,CAAC,CAAC;IAC7D;EACJ,CAAC,CAAC,CAAC;EAEHvB,aAAa,CAACC,IAAI,CAACL,YAAY,CAACM,WAAW,CAAC,QAAQ,EAAE,MAAOC,KAAgB,IAAK;IAC9E,MAAM;MAAEC,IAAI;MAAEC,QAAQ;MAAEO;IAAK,CAAC,GAAGT,KAAK;IACtC,IAAIE,QAAQ,KAAKV,IAAI,CAACU,QAAQ,EAAE;MAC5B;IACJ;IAEAE,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEL,KAAK,CAAC;IACpC,MAAMM,QAAQ,GAAGC,MAAM,CAACC,WAAW,CAACC,IAAI,CAACN,GAAG,CAAEO,CAAS,IAAK,CAACA,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC;IACxE,IAAI;MACA,MAAMC,OAAO,GAAG,MAAMrB,qBAAqB,CAACsB,SAAS,CAAC,CAAC;MACvD,IAAI;QACA,KAAK,MAAMC,GAAG,IAAIJ,IAAI,EAAE;UACpB,MAAMnB,qBAAqB,CAACoC,KAAK,CAACb,GAAG,CAAC;UACtCP,QAAQ,CAACO,GAAG,CAAC,GAAG,IAAI;QACxB;MACJ,CAAC,SAAS;QACN,MAAMF,OAAO,CAAC,CAAC;MACnB;IACJ,CAAC,CAAC,OAAOM,CAAC,EAAE;MACRb,OAAO,CAACc,KAAK,CAAC,cAAc,EAAED,CAAC,CAAC;IACpC;IACA,MAAMrB,yBAAM,CAACuB,cAAc,CAAC;MAAElB,IAAI;MAAEC,QAAQ;MAAEkB,IAAI,EAAEd;IAAS,CAAC,CAAC;EACnE,CAAC,CAAC,CAAC;EAEHT,aAAa,CAACC,IAAI,CAACL,YAAY,CAACM,WAAW,CAAC,iBAAiB,EAAE,MAAOC,KAAK,IAAK;IAC5E,MAAM;MAAE2B,OAAO;MAAE1B,IAAI;MAAEC;IAAS,CAAC,GAAGF,KAAK;IACzCI,OAAO,CAACwB,KAAK,CAAC,yBAAyB,EAAE;MAAE3B,IAAI;MAAEC;IAAS,CAAC,CAAC;IAE5D,IAAIA,QAAQ,KAAKV,IAAI,CAACU,QAAQ,EAAE;MAC5B;IACJ;;IAEA;IACA,IAAI;MACA,MAAMI,QAAQ,GAAG,MAAMjB,eAAe,CAACwC,qBAAqB,CAACF,OAAO,CAAC;MACrE;;MAEA,MAAM/B,yBAAM,CAACuB,cAAc,CAAC;QAAElB,IAAI;QAAEC,QAAQ;QAAEkB,IAAI,EAAEU,IAAI,CAACC,SAAS,CAACzB,QAAQ;MAAE,CAAC,CAAC;IACnF,CAAC,CAAC,OAAOW,CAAC,EAAE;MACRb,OAAO,CAACc,KAAK,CAAC,uBAAuB,EAAED,CAAC,CAAC;MAEzC,IAAIA,CAAC,YAAYe,KAAK,EAAE;QACpB,MAAMpC,yBAAM,CAACuB,cAAc,CAAC;UAAElB,IAAI;UAAEC,QAAQ;UAAEkB,IAAI,EAAE;YAAEF,KAAK,EAAED,CAAC,CAACU;UAAQ;QAAE,CAAC,CAAC;MAC/E,CAAC,MAAM,IAAIV,CAAC,YAAYgB,MAAM,IAAI,OAAOhB,CAAC,KAAK,QAAQ,EAAE;QACrD,MAAMrB,yBAAM,CAACuB,cAAc,CAAC;UAAElB,IAAI;UAAEC,QAAQ;UAAEkB,IAAI,EAAE;YAAEF,KAAK,EAAED;UAAE;QAAE,CAAC,CAAC;MACvE,CAAC,MAAM;QACH,MAAMrB,yBAAM,CAACuB,cAAc,CAAC;UAAElB,IAAI;UAAEC,QAAQ;UAAEkB,IAAI,EAAE;YAAEF,KAAK,EAAE;UAAe;QAAE,CAAC,CAAC;MACpF;IACJ;EACJ,CAAC,CAAC,CAAC;EAEHrB,aAAa,CAACC,IAAI,CAACL,YAAY,CAACM,WAAW,CAAC,WAAW,EAAGC,KAAa,IAAK;IACxEI,OAAO,CAACwB,KAAK,CAAC,mBAAmB,EAAE5B,KAAK,CAAC;IACzCT,aAAa,aAAbA,aAAa,eAAbA,aAAa,CAAE2C,WAAW,CAAClC,KAAK,CAAC;EACrC,CAAC,CAAC,CAAC;EAEH,OAAO,YAAY;IACfH,aAAa,CAACsC,OAAO,CAACC,GAAG,IAAIA,GAAG,CAACC,MAAM,CAAC,CAAC,CAAC;EAC9C,CAAC;AACL;AAEO,eAAeC,oBAAoBA,CAACC,OAA8B,EAA2B;EAChG,MAAM;IAAErC;EAAS,CAAC,GAAGqC,OAAO;EAE5B,MAAMC,OAAO,GAAGpD,cAAc,CAACmD,OAAO,CAAC;EACvC,IAAI;IACA,MAAM3C,yBAAM,CAAC6C,UAAU,CAACvC,QAAQ,CAAC;EACrC,CAAC,CAAC,OAAOe,CAAC,EAAE;IACRuB,OAAO,CAAC,CAAC;IACT,MAAMvB,CAAC;EACX;EAEA,MAAMyB,MAAsB,GAAG;IAC3BF,OAAO;IAEP;IACAG,eAAe,EAAE,SAAAA,CAAA,EAA2B;MACxC,MAAM,IAAIX,KAAK,CAAC,2BAA2B,CAAC;IAChD,CAAC;IAEDY,eAAe,EAAE,eAAAA,CAAgBC,UAA8B,EAAgC;MAC3F,OAAO,IAAItB,GAAG,CAAC,MAAM3B,yBAAM,CAACgD,eAAe,CAAC1C,QAAQ,EAAE4C,KAAK,CAACC,IAAI,CAACF,UAAU,CAAC,CAAC,CAAC;IAClF,CAAC;IAEDG,kBAAkB,EAAE,SAAAA,CAAA,EAA8B;MAC9C,MAAM,IAAIhB,KAAK,CAAC,2BAA2B,CAAC;IAChD,CAAC;IAEDiB,eAAe,EAAE,eAAAA,CAAgBC,IAAY,EAAkC;MAC3E,MAAMC,MAAM,GAAG,MAAMvD,yBAAM,CAACqD,eAAe,CAAC/C,QAAQ,EAAEgD,IAAI,CAAC;MAE3D,OAAO;QACHA,IAAI;QACJE,0BAA0B,EAAED;MAChC,CAAC;IACL,CAAC;IAEDE,6BAA6B,EAAE,SAAAA,CAAA,EAA2B;MACtD,MAAM,IAAIrB,KAAK,CAAC,2BAA2B,CAAC;IAChD,CAAC;IAEDsB,wBAAwB,EAAE,SAAAA,CAAA,EAAoC;MAC1D,MAAM,IAAItB,KAAK,CAAC,2BAA2B,CAAC;IAChD,CAAC;IAEDuB,UAAU,EAAE,eAAAA,CAAgBC,UAAkB,EAAEC,YAAoB,EAA+B;MAC/F,OAAO,MAAM7D,yBAAM,CAAC2D,UAAU,CAACrD,QAAQ,EAAEsD,UAAU,EAAEC,YAAY,CAAC;IACtE,CAAC;IAEDC,WAAW,EAAE,eAAAA,CAAgBC,kBAAuC,EAAiB;MACjF,MAAMlE,YAAY,GAAG,IAAIC,+BAAkB,CAACC,0BAAa,CAACC,MAAM,CAAC;MACjE,MAAMgE,YAAY,GAAGnE,YAAY,CAACM,WAAW,CAAC,mBAAmB,EAAE,MAAOC,KAAK,IAAK;QAChFI,OAAO,CAACwB,KAAK,CAAC,2BAA2B,EAAE5B,KAAK,CAAC;QAEjD,MAAM;UAAEyD,YAAY;UAAExD,IAAI;UAAEC;QAAS,CAAC,GAAGF,KAAK;QAC9C,IAAIE,QAAQ,KAAKqC,OAAO,CAACrC,QAAQ,EAAE;UAC/B;QACJ;QAEA,IAAI;UACA,MAAMI,QAAQ,GAAG,MAAMqD,kBAAkB,CAACF,YAAY,CAAC;UACvDrD,OAAO,CAACwB,KAAK,CAAE,sBAAqBE,IAAI,CAACC,SAAS,CAACzB,QAAQ,CAAE,EAAC,CAAC;UAE/D,MAAMV,yBAAM,CAACuB,cAAc,CAAC;YAAElB,IAAI;YAAEC,QAAQ;YAAEkB,IAAI,EAAEd;UAAS,CAAC,CAAC;QACnE,CAAC,CAAC,OAAOW,CAAC,EAAE;UACRb,OAAO,CAACc,KAAK,CAAC,yBAAyB,EAAED,CAAC,CAAC;UAC3C,MAAMrB,yBAAM,CAACuB,cAAc,CAAC;YAAElB,IAAI;YAAEC,QAAQ;YAAEkB,IAAI,EAAE,CAAC;UAAE,CAAC,CAAC;QAC7D,CAAC,SAAS;UACNwC,YAAY,CAACvB,MAAM,CAAC,CAAC;QACzB;MACJ,CAAC,CAAC;MAEF,MAAMzC,yBAAM,CAAC8D,WAAW,CAACxD,QAAQ,CAAC;IACtC,CAAC;IAED2D,yBAAyB,EAAE,eAAAA,CAAgBC,kBAAsC,EAAgC;MAC7G,MAAMrE,YAAY,GAAG,IAAIC,+BAAkB,CAACC,0BAAa,CAACC,MAAM,CAAC;MACjE,MAAMC,aAAa,GAAG,EAAE;MAExBA,aAAa,CAACC,IAAI,CAACL,YAAY,CAACM,WAAW,CAAC,mBAAmB,EAAE,MAAOC,KAAK,IAAK;QAC9EI,OAAO,CAACwB,KAAK,CAAC,2BAA2B,EAAE5B,KAAK,CAAC;QAEjD,MAAM;UAAE+D,SAAS;UAAE7D;QAAS,CAAC,GAAGF,KAAK;QACrC,IAAIE,QAAQ,KAAKqC,OAAO,CAACrC,QAAQ,EAAE;UAC/B;QACJ;QAEA,IAAI;UACA4D,kBAAkB,CAACE,WAAW,CAACD,SAAS,CAAC;QAC7C,CAAC,CAAC,OAAO9C,CAAC,EAAE;UACRb,OAAO,CAACc,KAAK,CAAC,yBAAyB,EAAED,CAAC,CAAC;QAC/C;MACJ,CAAC,CAAC,CAAC;MAEHpB,aAAa,CAACC,IAAI,CAACL,YAAY,CAACM,WAAW,CAAC,kBAAkB,EAAE,MAAOC,KAAK,IAAK;QAC7EI,OAAO,CAACwB,KAAK,CAAC,0BAA0B,EAAE5B,KAAK,CAAC;QAEhD,MAAM;UAAEE;QAAS,CAAC,GAAGF,KAAK;QAC1B,IAAIE,QAAQ,KAAKqC,OAAO,CAACrC,QAAQ,EAAE;UAC/B;QACJ;QAEA,IAAI;UAAA,IAAA+D,qBAAA;UACA,CAAAA,qBAAA,GAAAH,kBAAkB,CAACI,kBAAkB,cAAAD,qBAAA,eAArCA,qBAAA,CAAAE,IAAA,CAAAL,kBAAwC,CAAC;QAC7C,CAAC,CAAC,OAAO7C,CAAC,EAAE;UACRb,OAAO,CAACc,KAAK,CAAC,wBAAwB,EAAED,CAAC,CAAC;QAC9C;MACJ,CAAC,CAAC,CAAC;MAEH,IAAI;QACAb,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAC;QAChD,OAAO,IAAIkB,GAAG,CAAC,MAAM3B,yBAAM,CAACiE,yBAAyB,CAAC3D,QAAQ,CAAC,CAAC;MACpE,CAAC,CACD,OAAOe,CAAC,EAAE;QACNb,OAAO,CAACc,KAAK,CAAC,iCAAiC,EAAED,CAAC,CAAC;QACnD,MAAMA,CAAC;MACX,CAAC,SAAQ;QACLpB,aAAa,CAACsC,OAAO,CAACC,GAAG,IAAIA,GAAG,CAACC,MAAM,CAAC,CAAC,CAAC;MAC9C;IACJ,CAAC;IACD+B,wBAAwB,EAAE,eAAAA,CAAgBL,SAAiB,EAAuC;MAC9F,OAAO,IAAIxC,GAAG,CAAC,MAAM3B,yBAAM,CAACwE,wBAAwB,CAAClE,QAAQ,EAAE6D,SAAS,CAAC,CAAC;IAC9E,CAAC;IACDM,cAAc,EAAE,SAAAA,CAAA,EAAkB;MAC9B,OAAOzE,yBAAM,CAACyE,cAAc,CAACnE,QAAQ,CAAC;IAC1C,CAAC;IACDoE,QAAQ,EAAE,eAAAA,CAAA,EAAuC;MAC7C,MAAM7D,IAAI,GAAG,MAAMb,yBAAM,CAAC0E,QAAQ,CAACpE,QAAQ,CAAC;MAC5C,OAAOO,IAAI;IACf,CAAC;IACD8D,cAAc,EAAE,SAAAA,CAAUC,SAAiB,EAAEC,cAAqC,EAAuB;MACrGrE,OAAO,CAACc,KAAK,CAACY,IAAI,CAACC,SAAS,CAAC;QAACyC,SAAS;QAAEC;MAAc,CAAC,CAAC,CAAC;MAC1D,MAAM,IAAIzC,KAAK,CAAC,2BAA2B,CAAC;IAChD,CAAC;IACD0C,cAAc,EAAE,SAAAA,CAAUC,kBAA0B,EAAEC,QAAgB,EAAEC,OAAe,EAAEC,MAAc,EAAEC,KAAa,EAAU;MAC5H,MAAMlE,GAAG,GAAGjB,yBAAM,CAAC8E,cAAc,CAACxE,QAAQ,EAAEyE,kBAAkB,EAAE;QAAEC,QAAQ;QAAEC,OAAO;QAAEC,MAAM;QAAEC;MAAM,CAAC,CAAC;MACrG,OAAOlE,GAAG;IACd,CAAC;IACDmE,aAAa,EAAE,eAAAA,CAAA,EAAkE;MAC7E,MAAM7B,MAAM,GAAG,MAAMvD,yBAAM,CAACoF,aAAa,CAAC9E,QAAQ,CAAC;MACnD,OAAOiD,MAAM;IACjB,CAAC;IACD8B,mBAAmB,EAAE,SAAAA,CAAA,EAAoB;MACrC,OAAOrF,yBAAM,CAACqF,mBAAmB,CAAC,CAAC;IACvC;EACJ,CAAC;EAED,OAAOvC,MAAM;AACjB","ignoreList":[]}